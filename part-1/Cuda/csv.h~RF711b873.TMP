
#pragma once
#include <string>

namespace fs
{
    template<int R, int C>
    class csv
    {
        std::ofstream out;
    public:
        csv(const std::string& name, const std::string& title)
        {
            out.open(name);
            out << title;    
            fill_cols();
        }

        ~csv()
        {
            out.close();
        }

        template<typename Vs>
        void append(const V&& v)
        {
            out << v;
        }

        template<typename... Args>
        void append(Args&&... args)
        {
            append(...args);
        }

        void append_row(const std::string& row)
        {
            out << row;
        }

        void fill_cols()
        {
            for(auto i = 1u; i < C; ++i)
                out << ",";
            out << std::endl;
        }
    };
}
